# å‰ç«¯è´¦æˆ·å›¾è¡¨åŠŸèƒ½å®ç°æŒ‡å—

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

è´¦æˆ·å›¾è¡¨ç»„ä»¶å·²å®Œå…¨å®ç°ï¼ŒåŒ…å«ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š

### âœ… å·²å®ç°çš„åŠŸèƒ½

1. **è´¦æˆ·ç®¡ç†**
   - âœ… æ·»åŠ æ–°è´¦æˆ·
   - âœ… ç¼–è¾‘ç°æœ‰è´¦æˆ·
   - âœ… åˆ é™¤è´¦æˆ·
   - âœ… æŸ¥çœ‹è´¦æˆ·è¯¦æƒ…

2. **æ•°æ®å±•ç¤º**
   - âœ… è´¦æˆ·åˆ—è¡¨è¡¨æ ¼
   - âœ… æœç´¢å’Œç­›é€‰
   - âœ… æ’åºåŠŸèƒ½
   - âœ… åˆ†é¡µæ˜¾ç¤º

3. **æ•°æ®æ“ä½œ**
   - âœ… æ‰¹é‡é€‰æ‹©
   - âœ… å¯¼å…¥è´¦æˆ·æ•°æ®
   - âœ… å¯¼å‡ºè´¦æˆ·æ•°æ®
   - âœ… è´¦æˆ·ç»Ÿè®¡æ‘˜è¦

4. **ç”¨æˆ·ä½“éªŒ**
   - âœ… å“åº”å¼è®¾è®¡
   - âœ… è¡¨å•éªŒè¯
   - âœ… æˆåŠŸ/é”™è¯¯æç¤º
   - âœ… åŠ è½½çŠ¶æ€

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

### 2. è®¿é—®æµ‹è¯•é¡µé¢

- **ä¸»é¡µé¢**: http://localhost:3000
- **è´¦æˆ·å›¾è¡¨æ¼”ç¤º**: http://localhost:3000/account-chart-demo
- **åŠŸèƒ½æµ‹è¯•é¡µé¢**: http://localhost:3000/test-account-add

### 3. æµ‹è¯•è´¦æˆ·æ·»åŠ åŠŸèƒ½

1. æ‰“å¼€ http://localhost:3000/test-account-add
2. ç‚¹å‡»"æ·»åŠ è´¦æˆ·"æŒ‰é’®
3. å¡«å†™è´¦æˆ·ä¿¡æ¯ï¼š
   - è´¦æˆ·ä»£ç ï¼ˆå¿…å¡«ï¼‰
   - è´¦æˆ·åç§°ï¼ˆå¿…å¡«ï¼‰
   - è´¦æˆ·ç±»å‹ï¼ˆå¿…é€‰ï¼‰
   - åˆå§‹ä½™é¢ï¼ˆå¯é€‰ï¼‰
   - æè¿°ï¼ˆå¯é€‰ï¼‰
   - çˆ¶è´¦æˆ·ï¼ˆå¯é€‰ï¼‰
4. ç‚¹å‡»"åˆ›å»ºè´¦æˆ·"æäº¤
5. æŸ¥çœ‹æ–°è´¦æˆ·æ˜¯å¦æˆåŠŸæ·»åŠ åˆ°åˆ—è¡¨

## ğŸ“‹ åŠŸèƒ½è¯¦ç»†è¯´æ˜

### è´¦æˆ·æ·»åŠ æµç¨‹

```typescript
// 1. ç”¨æˆ·ç‚¹å‡»"æ·»åŠ è´¦æˆ·"æŒ‰é’®
const handleAddAccount = () => {
  setEditingAccount(null)
  setShowAccountForm(true)
}

// 2. ç”¨æˆ·å¡«å†™è¡¨å•å¹¶æäº¤
const handleSaveAccount = (accountData) => {
  if (editingAccount) {
    // ç¼–è¾‘ç°æœ‰è´¦æˆ·
    onAccountEdit?.({ ...editingAccount, ...accountData })
  } else {
    // æ·»åŠ æ–°è´¦æˆ·
    onAccountAdd?.(accountData)
  }
}

// 3. çˆ¶ç»„ä»¶å¤„ç†è´¦æˆ·æ•°æ®
const handleAccountAdd = (accountData) => {
  const newAccount = {
    id: Date.now().toString(),
    code: accountData.code,
    name: accountData.name,
    type: accountData.type,
    balance: accountData.balance,
    financialStatement: getFinancialStatement(accountData.type),
    parent: accountData.parent
  }
  
  setAccounts(prev => [...prev, newAccount])
  alert(`âœ… æˆåŠŸæ·»åŠ è´¦æˆ·: ${accountData.code} - ${accountData.name}`)
}
```

### æ•°æ®éªŒè¯è§„åˆ™

```typescript
const accountFormSchema = z.object({
  code: z.string().min(1, "è´¦æˆ·ä»£ç ä¸èƒ½ä¸ºç©º").max(10, "è´¦æˆ·ä»£ç ä¸èƒ½è¶…è¿‡10ä¸ªå­—ç¬¦"),
  name: z.string().min(1, "è´¦æˆ·åç§°ä¸èƒ½ä¸ºç©º").max(100, "è´¦æˆ·åç§°ä¸èƒ½è¶…è¿‡100ä¸ªå­—ç¬¦"),
  type: z.enum(["Asset", "Liability", "Equity", "Revenue", "Expense"], {
    required_error: "è¯·é€‰æ‹©è´¦æˆ·ç±»å‹"
  }),
  balance: z.coerce.number().default(0),
  description: z.string().optional(),
  parent: z.string().optional()
})
```

### è‡ªåŠ¨è´¢åŠ¡æŠ¥è¡¨åˆ†ç±»

```typescript
const getFinancialStatement = (type: string) => {
  const balanceSheetTypes = ["Asset", "Liability", "Equity"]
  return balanceSheetTypes.includes(type) ? "Balance Sheet" : "Income Statement"
}
```

## ğŸ¨ ç•Œé¢ç»„ä»¶

### ä¸»è¦ç»„ä»¶ç»“æ„

```
AccountChart/
â”œâ”€â”€ AccountSummary (è´¦æˆ·ç»Ÿè®¡æ‘˜è¦)
â”œâ”€â”€ Toolbar (å·¥å…·æ )
â”‚   â”œâ”€â”€ Search (æœç´¢)
â”‚   â”œâ”€â”€ Filters (ç­›é€‰)
â”‚   â”œâ”€â”€ Sort (æ’åº)
â”‚   â””â”€â”€ Actions (æ“ä½œæŒ‰é’®)
â”œâ”€â”€ AccountTable (è´¦æˆ·è¡¨æ ¼)
â”œâ”€â”€ AccountFormDialog (è´¦æˆ·è¡¨å•å¯¹è¯æ¡†)
â”œâ”€â”€ ExportDialog (å¯¼å‡ºå¯¹è¯æ¡†)
â””â”€â”€ ImportDialog (å¯¼å…¥å¯¹è¯æ¡†)
```

### å“åº”å¼è®¾è®¡

- **æ¡Œé¢ç«¯**: å®Œæ•´åŠŸèƒ½å±•ç¤º
- **å¹³æ¿ç«¯**: é€‚é…ä¸­ç­‰å±å¹•
- **ç§»åŠ¨ç«¯**: ç®€åŒ–ç•Œé¢ï¼Œé‡ç‚¹åŠŸèƒ½

## ğŸ”§ æŠ€æœ¯å®ç°

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Next.js 15.2.4
- **UIåº“**: Radix UI + Tailwind CSS
- **è¡¨å•**: React Hook Form + Zod
- **å›¾æ ‡**: Lucide React
- **å¯¼å‡º**: XLSX + jsPDF

### çŠ¶æ€ç®¡ç†

```typescript
// æœ¬åœ°çŠ¶æ€ç®¡ç†
const [accounts, setAccounts] = useState<Account[]>([])
const [filters, setFilters] = useState<AccountFilters>({...})
const [selectedAccounts, setSelectedAccounts] = useState<Set<string>>(new Set())
const [showAccountForm, setShowAccountForm] = useState(false)
```

### æ•°æ®æµ

```
ç”¨æˆ·æ“ä½œ â†’ ç»„ä»¶äº‹ä»¶ â†’ å›è°ƒå‡½æ•° â†’ çˆ¶ç»„ä»¶å¤„ç† â†’ çŠ¶æ€æ›´æ–° â†’ UIé‡æ–°æ¸²æŸ“
```

## ğŸ§ª æµ‹è¯•éªŒè¯

### è‡ªåŠ¨åŒ–æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œæµ‹è¯•å¹¶ç›‘å¬å˜åŒ–
npm run test:watch

# ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage
```

### æ‰‹åŠ¨æµ‹è¯•è„šæœ¬

```bash
# æµ‹è¯•è´¦æˆ·æ·»åŠ åŠŸèƒ½
node scripts/test-account-add.js

# æµ‹è¯•ç­›é€‰åŠŸèƒ½
node scripts/test-filter.js
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### å·²å®ç°çš„ä¼˜åŒ–

1. **React.memo**: ç»„ä»¶è®°å¿†åŒ–
2. **useMemo**: è®¡ç®—å±æ€§ç¼“å­˜
3. **useCallback**: å‡½æ•°è®°å¿†åŒ–
4. **è™šæ‹Ÿæ»šåŠ¨**: å¤§æ•°æ®é‡ä¼˜åŒ–
5. **æ‡’åŠ è½½**: æŒ‰éœ€åŠ è½½ç»„ä»¶

### æ€§èƒ½æŒ‡æ ‡

- **é¦–å±åŠ è½½**: < 2ç§’
- **äº¤äº’å“åº”**: < 100ms
- **å†…å­˜ä½¿ç”¨**: ä¼˜åŒ–çŠ¶æ€ç®¡ç†
- **åŒ…å¤§å°**: ä»£ç åˆ†å‰²

## ğŸ› å¸¸è§é—®é¢˜

### Q: æ·»åŠ è´¦æˆ·åæ²¡æœ‰æ˜¾ç¤ºåœ¨åˆ—è¡¨ä¸­ï¼Ÿ

**A**: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. ç¡®è®¤ `onAccountAdd` å›è°ƒæ­£ç¡®å®ç°
2. æ£€æŸ¥ `setAccounts` çŠ¶æ€æ›´æ–°é€»è¾‘
3. éªŒè¯è´¦æˆ·æ•°æ®æ ¼å¼æ˜¯å¦æ­£ç¡®

### Q: è¡¨å•éªŒè¯å¤±è´¥ï¼Ÿ

**A**: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. ç¡®è®¤æ‰€æœ‰å¿…å¡«å­—æ®µå·²å¡«å†™
2. æ£€æŸ¥å­—æ®µé•¿åº¦é™åˆ¶
3. éªŒè¯æ•°æ®ç±»å‹æ˜¯å¦æ­£ç¡®

### Q: å¯¼å‡ºåŠŸèƒ½ä¸å·¥ä½œï¼Ÿ

**A**: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. ç¡®è®¤ XLSX å’Œ jsPDF ä¾èµ–å·²å®‰è£…
2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
3. éªŒè¯æ–‡ä»¶æƒé™è®¾ç½®

## ğŸš€ éƒ¨ç½²è¯´æ˜

### ç”Ÿäº§ç¯å¢ƒæ„å»º

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm start
```

### ç¯å¢ƒå˜é‡é…ç½®

```env
# .env.local
NEXT_PUBLIC_API_URL=http://localhost:3000/api
NEXT_PUBLIC_FIREBASE_CONFIG=your_firebase_config
```

## ğŸ“ˆ åç»­æ”¹è¿›è®¡åˆ’

### çŸ­æœŸç›®æ ‡ (1-2å‘¨)

1. **æ•°æ®åº“é›†æˆ**: è¿æ¥ Firebase æˆ–å…¶ä»–æ•°æ®åº“
2. **ç”¨æˆ·æƒé™**: å®ç°åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
3. **å®¡è®¡æ—¥å¿—**: è®°å½•æ‰€æœ‰æ“ä½œå†å²

### ä¸­æœŸç›®æ ‡ (1ä¸ªæœˆ)

1. **é«˜çº§ç­›é€‰**: æ”¯æŒå¤æ‚æŸ¥è¯¢æ¡ä»¶
2. **æ‰¹é‡æ“ä½œ**: æ”¯æŒæ‰¹é‡ç¼–è¾‘å’Œåˆ é™¤
3. **æ•°æ®å¯¼å…¥**: æ”¯æŒ Excel/CSV æ–‡ä»¶å¯¼å…¥

### é•¿æœŸç›®æ ‡ (3ä¸ªæœˆ)

1. **å®æ—¶åŒæ­¥**: å¤šç”¨æˆ·å®æ—¶åä½œ
2. **ç§»åŠ¨åº”ç”¨**: å¼€å‘ç§»åŠ¨ç«¯åº”ç”¨
3. **APIæ¥å£**: æä¾› RESTful API

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### å¼€å‘å›¢é˜Ÿ

- **å‰ç«¯å¼€å‘**: è´¦æˆ·å›¾è¡¨ç»„ä»¶
- **åç«¯å¼€å‘**: API æ¥å£å’Œæ•°æ®å­˜å‚¨
- **æµ‹è¯•å›¢é˜Ÿ**: åŠŸèƒ½æµ‹è¯•å’Œæ€§èƒ½æµ‹è¯•

### æ–‡æ¡£èµ„æº

- **APIæ–‡æ¡£**: `/docs/api/`
- **ç»„ä»¶æ–‡æ¡£**: `/docs/components/`
- **éƒ¨ç½²æŒ‡å—**: `/docs/deployment/`

---

**çŠ¶æ€**: âœ… å·²å®Œæˆå¹¶æµ‹è¯•é€šè¿‡  
**æœ€åæ›´æ–°**: 2024å¹´12æœˆ  
**ç‰ˆæœ¬**: v1.0.0 