# GL账户一键导入指南

## 📋 概述

本指南将帮助您一键导入所有交易记录对应的GL（General Ledger）账户到JCIKL会计系统中。

## 📁 导入文件

我们为您准备了以下导入文件：

1. **`gl-accounts-import.json`** - 完整的JSON格式导入文件
2. **`gl-accounts-import.csv`** - CSV格式文件，方便在Excel中查看和编辑
3. **`scripts/import-gl-accounts.js`** - 导入脚本，用于预览和验证数据

## 🎯 包含的账户

### 资产类账户 (Asset) - 4个
- 1001 - 现金
- 1002 - 银行存款
- 1101 - 其他应收账款 (包含Pre-Ticketing)
- 1301 - 定期存款

### 负债类账户 (Liability) - 1个
- 2001 - 应付账款

### 权益类账户 (Equity) - 2个
- 3001 - 实收资本
- 3002 - 未分配利润

### 收入类账户 (Revenue) - 8个
- 4101 - 会员费收入-续费
- 4102 - 会员费收入-附属会员
- 4103 - 会员费收入-新会员
- 4104 - 会员费收入-新附属会员
- 4201 - 银行利息收入
- 4202 - 定期存款利息收入
- 4501 - 项目收入
- 4901 - 其他收入

### 费用类账户 (Expense) - 20个
- 5101-5105 - 推广材料费用系列
- 5201-5202 - 会员费用系列
- 5301-5307 - 运营费用系列
- 5401-5402 - 福利费用系列
- 5501 - 项目支出

## 🔗 交易映射关系

| 交易类型 | 对应账户代码 | 账户名称 |
|---------|-------------|----------|
| Pre-Ticketing | 1101 | 其他应收账款 |
| Membership Fee - Renewal | 4101 | 会员费收入-续费 |
| Membership Fee - Associated | 4102 | 会员费收入-附属会员 |
| Membership Fee - New | 4103 | 会员费收入-新会员 |
| Membership Fee - Associated (New) | 4104 | 会员费收入-新附属会员 |
| Promotional Materials / Uniform - Jacket | 5101 | 推广材料费用-夹克 |
| Promotional Materials / Uniform - Pink Shirt | 5102 | 推广材料费用-粉红衬衫 |
| Promotional Materials / Uniform - JCI Pin | 5103 | 推广材料费用-JCI徽章 |
| Bank Interest | 4201 | 银行利息收入 |
| Fixed Deposit | 1301 | 定期存款 |
| Miscellaneous | 4901 | 其他收入 |
| Utilities | 5301 | 水电费 |
| Taxes & Licenses | 5303 | 税费及许可证费用 |
| Building/Facility Management Fee | 5304 | 建筑/设施管理费 |
| Professional Fees | 5305 | 专业服务费 |
| Membership Dues - Area | 5201 | 会员费用-区域会费 |
| Membership Dues - National | 5202 | 会员费用-全国会费 |
| Software Subscription | 5306 | 软件订阅费 |
| Promotional Materials / Uniform - JCI Flag | 5104 | 推广材料费用-JCI旗帜 |
| Promotional Materials / Uniform - Pin | 5105 | 推广材料费用-徽章 |
| Utilities - Water | 5302 | 水费 |
| Welfare & Condolence | 5401 | 福利费用-慰问金 |
| Welfare & Congratulatory | 5402 | 福利费用-祝贺金 |
| Printing & Stationery | 5307 | 印刷及文具费 |

## 🚀 导入步骤

### 方法一：通过账户图表界面导入（推荐）

1. **打开账户图表页面**
   - 导航到 General Ledger → 账户图表

2. **点击导入按钮**
   - 在账户图表界面找到"导入"按钮
   - 点击打开导入对话框

3. **选择导入文件**
   - 选择 `gl-accounts-import.json` 文件
   - 系统将自动解析并显示导入预览

4. **确认导入**
   - 检查导入预览中的账户列表
   - 确认无误后点击"确认导入"

5. **完成导入**
   - 系统将自动创建所有账户
   - 显示导入成功消息

### 方法二：使用导入脚本预览

1. **运行预览脚本**
   ```bash
   node scripts/import-gl-accounts.js
   ```

2. **查看导入信息**
   - 脚本将显示所有账户的详细信息
   - 显示交易映射关系
   - 显示GL设置配置

3. **确认无误后使用方法一导入**

## ⚙️ GL设置配置

导入完成后，建议配置以下GL设置：

### 商品管理设置
- 商品资产账户：1201 (库存商品)
- 商品成本账户：5501 (项目支出)
- 商品收入账户：4501 (项目收入)

### 项目账户设置
- 项目收入账户：4501 (项目收入)
- 项目支出账户：5501 (项目支出)
- 项目预算账户：3002 (未分配利润)

### 会员管理设置
- 会员费收入账户：4101 (会员费收入-续费)
- 会员费支出账户：5201 (会员费用-区域会费)

### 运作管理设置
- 运作费用账户：5301 (水电费)

## 📊 导入后验证

导入完成后，请验证以下内容：

1. **账户数量**
   - 确认所有35个账户都已创建
   - 检查账户代码和名称是否正确

2. **账户类型分布**
   - Asset: 4个账户
   - Liability: 1个账户
   - Equity: 2个账户
   - Revenue: 8个账户
   - Expense: 20个账户

3. **交易映射**
   - 确认所有交易类型都有对应的GL账户
   - 检查映射关系是否正确

4. **GL设置**
   - 配置各模块的默认账户
   - 测试自动会计分录功能

## 🔧 自定义修改

如果需要修改账户信息：

1. **编辑JSON文件**
   - 直接编辑 `gl-accounts-import.json` 文件
   - 修改账户代码、名称、描述等信息

2. **编辑CSV文件**
   - 在Excel中打开 `gl-accounts-import.csv`
   - 修改后保存为CSV格式

3. **重新导入**
   - 使用修改后的文件重新导入
   - 系统将更新现有账户信息

## ❓ 常见问题

### Q: 导入失败怎么办？
A: 检查文件格式是否正确，确保JSON语法无误。

### Q: 账户代码重复怎么办？
A: 系统会自动更新现有账户，不会创建重复账户。

### Q: 如何添加新的交易类型？
A: 在JSON文件中添加新的账户和映射关系，然后重新导入。

### Q: 导入后余额不正确怎么办？
A: 所有账户初始余额设置为0，实际余额需要通过交易记录计算。

## 📞 技术支持

如果在导入过程中遇到问题，请：

1. 检查控制台错误信息
2. 查看导入日志
3. 联系技术支持团队

---

**注意**: 导入前请备份现有数据，以防意外情况发生。 